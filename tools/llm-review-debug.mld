---
description: Debug version to check environment variables
author: mlld-registry
version: 1.0.0
---

# Debug Environment Variables

@import { PR_NUMBER, REPO_OWNER, REPO_NAME, PR_TITLE, PR_AUTHOR, ANTHROPIC_API_KEY } from @input

@text debug_info = [[
## Environment Variable Check:
- PR_NUMBER: {{PR_NUMBER}}
- REPO_OWNER: {{REPO_OWNER}}
- REPO_NAME: {{REPO_NAME}}
- PR_TITLE: {{PR_TITLE}}
- PR_AUTHOR: {{PR_AUTHOR}}
- ANTHROPIC_API_KEY present: {{ANTHROPIC_API_KEY}}
]]

@add @debug_info

# Also try to echo them directly
@run [echo "Direct echo of PR_NUMBER: $PR_NUMBER"]
@run [echo "Direct echo of ANTHROPIC_API_KEY exists: ${ANTHROPIC_API_KEY:+yes}"]

# Test if the API key is truly empty or has content
@run [test -z "@ANTHROPIC_API_KEY" && echo "API KEY IS EMPTY" || echo "API KEY HAS CONTENT"]

# Test a simple API call
@run [curl -s -o /dev/null -w "HTTP Status: %{http_code}\n" https://api.anthropic.com/v1/messages -H "x-api-key: @ANTHROPIC_API_KEY" -H "anthropic-version: 2023-06-01"]