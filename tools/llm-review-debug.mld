---
description: Debug version to check environment variables
author: mlld-registry
version: 1.0.0
---

# Debug Environment Variables

@import { PR_NUMBER, REPO_OWNER, REPO_NAME, PR_TITLE, PR_AUTHOR, ANTHROPIC_API_KEY } from @input

@text debug_info = [[
## Environment Variable Check:
- PR_NUMBER: {{PR_NUMBER}}
- REPO_OWNER: {{REPO_OWNER}}
- REPO_NAME: {{REPO_NAME}}
- PR_TITLE: {{PR_TITLE}}
- PR_AUTHOR: {{PR_AUTHOR}}
- ANTHROPIC_API_KEY length: {{ANTHROPIC_API_KEY}}
]]

@add @debug_info

# Also try to echo them directly
@run [echo "Direct echo of PR_NUMBER: $PR_NUMBER"]
@run [echo "Direct echo of ANTHROPIC_API_KEY exists: ${ANTHROPIC_API_KEY:+yes}"]

# Test if the API key is truly empty or has content
@exec test_key = @run [
  if [ -z "@ANTHROPIC_API_KEY" ]; then 
    echo "API KEY IS EMPTY"
  else 
    echo "API KEY HAS CONTENT"
  fi
]
@run @test_key()